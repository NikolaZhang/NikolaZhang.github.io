import{_ as l}from"./_plugin-vue_export-helper.cdc0426e.js";import{o,c as t,a as n,b as a,d as e,e as i,r as c}from"./app.e7c9cb9e.js";const p={},r=n("blockquote",null,[n("p",null,"\u8FD9\u7BC7\u535A\u5BA2\u4E3B\u8981\u5206\u4EAB\u4E00\u4E0B\u81EA\u5DF1\u642D\u5EFA\u8FD9\u4E2A\u535A\u5BA2\u4E2D\u9047\u5230\u7684\u4E00\u4E9B\u95EE\u9898\u548C\u7ECF\u9A8C\u3002")],-1),d=n("h2",{id:"\u51C6\u5907",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u51C6\u5907","aria-hidden":"true"},"#"),a(" \u51C6\u5907")],-1),u=n("img",{src:"http://image.nikolazhang.top/20191229173723.png",alt:"gitee\u90E8\u7F72\u535A\u5BA2",loading:"lazy"},null,-1),h=n("img",{src:"http://image.nikolazhang.top/20191229173845.png",alt:"\u90E8\u7F72\u8BE6\u60C5",loading:"lazy"},null,-1),m={href:"https://nikolazhang.gitee.io/nikola-blog/",target:"_blank",rel:"noopener noreferrer"},k=n("img",{src:"http://image.nikolazhang.top/20191229174157.png",alt:"\u57DF\u540D",loading:"lazy"},null,-1),b=n("p",null,"\u8FD9\u4E2A\u535A\u5BA2\u662F\u642D\u5EFA\u5728\u963F\u91CC\u4E91\u670D\u52A1\u5668\u4E0A\u7684. (\u5355\u68382G89 \u4F60\u503C\u5F97\u62E5\u6709, \u4F46\u662F\u4E0D\u5F97\u4E0D\u5410\u69FD\u7684\u662F2G\u4E0D\u591F\u7528).",-1),g=n("h2",{id:"\u7F51\u7AD9\u90E8\u7F72",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u7F51\u7AD9\u90E8\u7F72","aria-hidden":"true"},"#"),a(" \u7F51\u7AD9\u90E8\u7F72")],-1),v=n("h3",{id:"\u4E00\u952E\u5F0F\u90E8\u7F72",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4E00\u952E\u5F0F\u90E8\u7F72","aria-hidden":"true"},"#"),a(" \u4E00\u952E\u5F0F\u90E8\u7F72")],-1),_={href:"https://hexo.io/zh-cn/docs/one-command-deployment",target:"_blank",rel:"noopener noreferrer"},f=n("code",null,"_config.yml",-1),x=i(`<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">deploy</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> git
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> git@gitee.com<span class="token punctuation">:</span>NikolaZhang/nikola<span class="token punctuation">-</span>blog.git
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> master
  <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#39;web updata: {{now(&quot;YYYY-MM-DD HH/mm/ss&quot;)}}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u535A\u5BA2\u7684\u9759\u6001\u6587\u4EF6\u63A8\u9001\u5230\u4EE3\u7801\u5E93\u4E4B\u540E, \u901A\u8FC7jenkins\u62C9\u53D6\u4EE3\u7801, \u5C06public/\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6\u5168\u90E8\u62F7\u8D1D\u5230\u7F51\u7AD9\u7684root\u76EE\u5F55\u4E0B. \u540E\u9762\u7684\u90E8\u7F72\u8FC7\u7A0B\u53EF\u4EE5\u8BF4\u5BF9\u4E8E\u6211\u4EEC\u662F\u65E0\u611F\u7684. \u6211\u4EEC\u53EA\u8981\u6267\u884C\u4EE5\u4E0B<code>hexo g -d</code>\u5C31\u5B8C\u6210\u4E86 \u751F\u6210--&gt;\u63A8\u9001--&gt;\u53D1\u5E03 \u6574\u4E2A\u8FC7\u7A0B ( \u6700\u5168\u7684\u547D\u4EE4\u5E94\u8BE5\u662F<code>hexo clean &amp;&amp; hexo g -d</code> \u5148\u5C06\u4E4B\u524D\u751F\u6210\u7684\u76EE\u5F55\u6E05\u9664\u6389).</p><p>\u8FD9\u79CD\u65B9\u5F0F\u5C31\u5E26\u6765\u4E86\u4E00\u4E2A\u95EE\u9898, \u5982\u679C\u6362\u4E2A\u7EC8\u7AEF\u5C31\u8981\u91CD\u65B0\u914D\u7F6E\u4E00\u5957\u73AF\u5883. \u867D\u7136\u5B89\u88C5\u7684\u4E1C\u897F\u4E0D\u591A, \u4F46\u662F\u603B\u89C9\u5F97\u6709\u4E9B\u7D2F\u8D58. \u56E0\u6B64\u6211\u5F3A\u70C8\u63A8\u8350\u4F60\u4F7F\u7528\u4E0B\u9762\u7684\u65B9\u5F0F.</p><h3 id="\u53E6\u4E00\u79CD\u90E8\u7F72\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u53E6\u4E00\u79CD\u90E8\u7F72\u65B9\u5F0F" aria-hidden="true">#</a> \u53E6\u4E00\u79CD\u90E8\u7F72\u65B9\u5F0F</h3><p>\u8FD9\u79CD\u90E8\u7F72\u65B9\u5F0F, \u5C31\u662F\u5C06\u73AF\u5883\u914D\u7F6E\u5230\u670D\u52A1\u5668\u53BB, \u4F7F\u7528git\u6309\u7167\u6B63\u5E38\u6D41\u7A0B\u63D0\u4EA4\u4EE3\u7801, \u4E4B\u540E\u7684\u6784\u5EFA\u8FC7\u7A0B, \u7531\u670D\u52A1\u5668\u5B8C\u6210. \u6784\u5EFA\u4E4B\u540E\u5C06, public/\u4E0B\u6587\u4EF6\u62F7\u8D1D. \u56E0\u6B64\u5BF9\u4E8E\u7EC8\u7AEF\u6765\u8BF4\u53EA\u8981\u6709git\u5C31\u53EF\u4EE5\u4E86.</p><p>\u65E0\u8BBA\u662F\u54EA\u79CD\u90E8\u7F72\u65B9\u5F0F\u6211\u4EEC\u90FD\u9700\u8981jenkins\u5E2E\u52A9\u6211\u4EEC\u5B8C\u6210\u6784\u5EFA.</p><h2 id="\u5173\u4E8E\u9759\u6001\u8D44\u6E90\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5173\u4E8E\u9759\u6001\u8D44\u6E90\u6587\u4EF6" aria-hidden="true">#</a> \u5173\u4E8E\u9759\u6001\u8D44\u6E90\u6587\u4EF6</h2><p>\u4E0D\u5EFA\u8BAE\u5C06\u9759\u6001\u8D44\u6E90\u653E\u5230\u535A\u5BA2\u76EE\u5F55\u4E2D, \u53EF\u4EE5\u653E\u5230\u7B2C\u4E09\u65B9\u7684\u4E91\u5B58\u50A8\u4E2D. \u6BD4\u5982\u4E03\u725B\u7B49. \u5982\u679C\u4F60\u662F\u7528vscode\u8FDB\u884C\u7F16\u8F91\u6587\u7AE0, \u5EFA\u8BAE\u5B89\u88C5<code>qiniu-upload-image</code>\u63D2\u4EF6, \u8FD9\u4E2A\u63D2\u4EF6\u53EF\u4EE5\u5C06\u622A\u56FE,\u672C\u5730\u56FE\u7247\u4E0A\u4F20\u5230\u4E03\u725B,\u5E76\u5C06\u6587\u4EF6\u7684\u94FE\u63A5\u8FD4\u56DE.</p><p><img src="http://image.nikolazhang.top/res.gif" alt="res" loading="lazy"></p><h2 id="\u5173\u4E8E\u535A\u5BA2\u7684\u76EE\u5F55\u4E0E\u6587\u4EF6\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u5173\u4E8E\u535A\u5BA2\u7684\u76EE\u5F55\u4E0E\u6587\u4EF6\u4ECB\u7ECD" aria-hidden="true">#</a> \u5173\u4E8E\u535A\u5BA2\u7684\u76EE\u5F55\u4E0E\u6587\u4EF6\u4ECB\u7ECD</h2><p>\u4E3B\u8981\u4ECB\u7ECD\u4E00\u4E0B\u7ECF\u5E38\u64CD\u4F5C\u7684\u76EE\u5F55\u4E0E\u6587\u4EF6</p>`,11),y=n("li",null,[a("_config.yml \u535A\u5BA2\u7684\u57FA\u672C\u4FE1\u606F\u914D\u7F6E \u5177\u4F53\u914D\u7F6E\u4FE1\u606F\u4E3A:\u53EF\u4EE5\u53C2\u8003"),n("code",null,"https://hexo.io/zh-cn/docs/configuration")],-1),z=n("li",null,"public/ \u8FD9\u4E2A\u76EE\u5F55\u4E0A\u9762\u5DF2\u7ECF\u63D0\u5230\u4E86\u662F\u751F\u6210\u7684\u6700\u7EC8\u7684\u7F51\u9875. \u6240\u6709\u53D8\u52A8\u90FD\u4F1A\u88AB\u8986\u76D6, \u56E0\u6B64\u4E0D\u8FDB\u884C\u64CD\u4F5C.",-1),j=n("li",null,"scaffolds\u662F\u535A\u5BA2\u811A\u624B\u67B6\u6587\u4EF6\u5939 \u914D\u7F6E\u4E86\u751F\u6210\u4E00\u4E2A\u535A\u5BA2\u6587\u7AE0\u7684\u6A21\u677F",-1),w=n("li",null,"source\u662F\u535A\u5BA2\u7684\u6E90\u6587\u4EF6, \u8BE5\u76EE\u5F55\u4E0B\u4E5F\u4E3B\u8981\u7528\u6765\u653E\u7F6E\u6211\u4EEC\u7684markdown\u683C\u5F0F\u7684\u6587\u7AE0.",-1),$={href:"https://hexo.io/zh-cn/docs/themes",target:"_blank",rel:"noopener noreferrer"},N=n("li",null,"\u4E3B\u9898\u4E2D\u7684_config.yml\u7528\u6765\u914D\u7F6E\u8BE5\u4E3B\u9898\u7684\u6837\u5F0F",-1),q=n("li",null,"\u4E3B\u9898\u4E2D\u7684layout\u662F\u6784\u5EFA\u535A\u5BA2\u4E3B\u9898\u7684\u5177\u4F53\u903B\u8F91, \u5982\u679C\u6709\u4EC0\u4E48\u914D\u7F6E\u4E0D\u6E05\u695A\u57FA\u672C\u53EF\u4EE5\u5728\u8FD9\u91CC\u627E\u5230\u5BF9\u5E94\u7684\u4EE3\u7801, \u5927\u6982\u5C31\u77E5\u9053\u8BE5\u600E\u4E48\u914D\u7F6Emarkdown\u6216\u8005yml\u4E86.",-1),V=i(`<p>\u603B\u7684\u6765\u8BF4, \u6211\u4EEC\u6700\u5E38\u64CD\u4F5C\u7684\u65E0\u975E\u5C31\u662F\u6211\u4EEC\u7684\u535A\u5BA2\u6587\u4EF6(.md)\u8FD8\u6709\u914D\u7F6E\u6587\u4EF6(.yml)</p><h2 id="\u4F7F\u7528\u57DF\u540D\u53CA\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u57DF\u540D\u53CA\u8BBF\u95EE" aria-hidden="true">#</a> \u4F7F\u7528\u57DF\u540D\u53CA\u8BBF\u95EE</h2><p>\u57DF\u540D\u53EF\u4EE5\u5728\u963F\u91CC\u4E91\u4E0A\u7533\u8BF7, \u6CE8\u610F\u7533\u8BF7\u4E4B\u540E\u8981\u8FDB\u884C\u5907\u6848. \u6211\u4E5F\u662F\u6700\u8FD1\u521A\u8FDB\u884C\u5907\u6848, \u65F6\u957F\u5927\u6982\u670913-20\u5929, \u53EA\u6709\u5907\u6848\u4E4B\u540E\u624D\u53EF\u4F7F\u752880\u7AEF\u53E3\u8FDB\u884C\u8BBF\u95EE. \u56E0\u6B64\u76EE\u524D\u6211\u4F7F\u7528nginx\u914D\u7F6E\u4E8681\u7AEF\u53E3\u8FDB\u884C\u8BBF\u95EE\u535A\u5BA2. \u6211\u7684nginx\u914D\u7F6E\u5982\u4E0B:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>server <span class="token punctuation">{</span>
    listen          <span class="token number">81</span><span class="token punctuation">;</span>
    server_name     blog.nikolazhang.top<span class="token punctuation">;</span>

    location / <span class="token punctuation">{</span>
        root        /home/nikola/app/blog/nikola-blog/public<span class="token punctuation">;</span>
        index       index.html<span class="token punctuation">;</span>
        try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
        proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
        proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
        proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        proxy_set_header   X-Forwarded-Proto  <span class="token variable">$scheme</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jenkins\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#jenkins\u914D\u7F6E" aria-hidden="true">#</a> jenkins\u914D\u7F6E</h2><p>\u518D\u4ECB\u7ECD\u4E00\u4E0Bjenkins\u7684\u914D\u7F6E\u65B9\u5F0F:</p><ol><li>\u9996\u5148\u8981\u6307\u5B9A\u4EE3\u7801\u5E93\u4F4D\u7F6E: <img src="http://image.nikolazhang.top/20191229200856.png" alt="\u914D\u7F6Egit" loading="lazy"></li><li>\u4F7F\u7528\u94A9\u5B50\u4F5C\u4E3A\u6784\u5EFA\u89E6\u53D1\u5668 <img src="http://image.nikolazhang.top/20191229201112.png" alt="\u89E6\u53D1\u5668" loading="lazy"></li><li>\u6784\u5EFA\u7684\u811A\u672C, \u4E3B\u8981\u5C31\u662F\u5728\u670D\u52A1\u5668\u4E0A\u8FDB\u884C\u535A\u5BA2\u7684\u751F\u6210\u548C\u76EE\u5F55\u8FC1\u79FB.</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /var/lib/jenkins/workspace/nikola-blog<span class="token punctuation">;</span>
cnpm <span class="token function">install</span><span class="token punctuation">;</span>
<span class="token builtin class-name">cd</span> /var/lib/jenkins/workspace/nikola-blog/themes/sakura<span class="token punctuation">;</span>
cnpm <span class="token function">install</span><span class="token punctuation">;</span>
<span class="token builtin class-name">cd</span> /var/lib/jenkins/workspace/nikola-blog<span class="token punctuation">;</span>
hexo clean<span class="token punctuation">;</span>
hexo g<span class="token punctuation">;</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /home/nikola/app/blog/public<span class="token punctuation">;</span>
<span class="token function">mkdir</span> /home/nikola/app/blog/public<span class="token punctuation">;</span>
<span class="token function">cp</span> <span class="token parameter variable">-r</span> /var/lib/jenkins/workspace/nikola-blog/public /home/nikola/app/blog/nikola-blog/<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="bug\u53CA\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#bug\u53CA\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> bug\u53CA\u6CE8\u610F\u4E8B\u9879</h2><ul><li>\u6839\u76EE\u5F55\u4E0B_config.yml\u4E2D\u7684relative_link\u8981\u8BBE\u7F6E\u4E3Afalse. \u5426\u5219\u5206\u9875\u4F1A\u51FA\u73B0\u95EE\u9898.</li><li>clone\u9879\u76EE\u5230\u672C\u5730\u4E4B\u540E, \u6839\u76EE\u5F55\u548C\u4E3B\u9898\u76EE\u5F55\u4E0B\u90FD\u8981\u6267\u884Cnpm install\u547D\u4EE4. \u5426\u5219\u751F\u6210\u7684index.html\u4E2D\u5C06\u6CA1\u6709\u5185\u5BB9.</li></ul><h2 id="\u81F4\u8C22" tabindex="-1"><a class="header-anchor" href="#\u81F4\u8C22" aria-hidden="true">#</a> \u81F4\u8C22</h2><p>\u6700\u540E\u81F4\u656CMashiro\u548Chonjun\u7684\u4ED8\u51FA\u548C\u5F00\u6E90\u7CBE\u795E. Thank you ~</p>`,12);function Y(B,E){const s=c("ExternalLinkIcon");return o(),t("div",null,[r,d,n("p",null,[a("\u4E4B\u524D\u66FE\u4F7F\u7528hexo\u642D\u5EFA\u8FC7\u4E00\u4E2A\u7B80\u6613\u7684\u535A\u5BA2. \u8FD9\u4E2A\u535A\u5BA2\u5C31\u662F\u5728\u4E4B\u524D\u7684\u57FA\u7840\u4E0A\u642D\u5EFA\u7684. \u4F46\u662F\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E\u8FD9\u6B21\u535A\u5BA2\u4E0D\u518D\u4F9D\u8D56\u4E8E\u4EE3\u7801\u4ED3\u5E93(\u50CFgithub,gitee\u90FD\u4F1A\u652F\u6301\u9759\u6001\u9875\u9762\u4E4B\u7C7B\u7684\u90E8\u7F72). gitee\u90E8\u7F72\u535A\u5BA2\u53EF\u4EE5\u901A\u8FC7gitee pages\u8FDB\u884C. \u5982\u4E0B\u56FE\u6240\u793A: "),u,h,a(" \u4F46\u662F\u90E8\u7F72\u4E4B\u540E\u57DF\u540D\u90FD\u4F1A\u662F\u76F8\u5173\u5E73\u53F0\u7684\u57DF\u540D. "),n("a",m,[a("gitee \u90E8\u7F72\u7684\u535A\u5BA2"),e(s)]),k,a(" \u6CA1\u6709\u7075\u9B42\u7684\u611F\u89C9~\u5F53\u7136\u4E5F\u53EF\u4EE5\u6709\u5176\u4ED6\u65B9\u6CD5\u53BB\u66FF\u6362. \u8FD9\u4E0D\u662F\u91CD\u70B9\u5C31\u4E0D\u8BF4\u4E86.")]),b,g,v,n("p",null,[a("hexo \u652F\u6301"),n("a",_,[a("\u4E00\u952E\u5F0F\u535A\u5BA2\u90E8\u7F72"),e(s)]),a(", \u6CE8\u610F\u4E00\u952E\u5F0F\u90E8\u7F72\u4F1A\u5C06 public \u76EE\u5F55\u4E2D\u7684\u6587\u4EF6\u548C\u76EE\u5F55\u63A8\u9001\u81F3 _config.yml \u4E2D\u6307\u5B9A\u7684\u8FDC\u7AEF\u4ED3\u5E93\u548C\u5206\u652F\u4E2D\uFF0C\u5E76\u4E14\u5B8C\u5168\u8986\u76D6\u8BE5\u5206\u652F\u4E0B\u7684\u5DF2\u6709\u5185\u5BB9\u3002 \u6211\u7684"),f,a("\u914D\u7F6E\u5982\u4E0B:")]),x,n("ol",null,[y,z,j,w,n("li",null,[a("themes \u4E0B\u653E\u7F6E"),n("a",$,[a("\u4E3B\u9898"),e(s)]),a("\u6587\u4EF6")]),N,q]),V])}const I=l(p,[["render",Y],["__file","\u535A\u5BA2\u642D\u5EFA\u53CA\u90E8\u7F72.html.vue"]]);export{I as default};
