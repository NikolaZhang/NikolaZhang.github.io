import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,e as t}from"./app.e7c9cb9e.js";const e={},o=t(`<blockquote><p>\u6700\u8FD1\u5BF9\u535A\u5BA2\u505A\u4E86\u4E00\u6B21\u91CD\u5927\u66F4\u65B0. \u672C\u6587\u4E3B\u8981\u8BB2\u8BB2\u8FD9\u6B21\u7684\u66F4\u65B0\u5185\u5BB9\u4EE5\u53CA\u5728\u6574\u4E2A\u8FC7\u7A0B\u4E2D\u9047\u5230\u7684\u95EE\u9898.</p></blockquote><h2 id="\u66F4\u65B0\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#\u66F4\u65B0\u5185\u5BB9" aria-hidden="true">#</a> \u66F4\u65B0\u5185\u5BB9</h2><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> \u804A\u5929\u5BA4\u529F\u80FD</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> \u66F4\u6362live2d\u6A21\u578B</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> \u4E8C\u7EF4\u7801\u5206\u4EAB\u529F\u80FD</label></li></ul><h3 id="\u804A\u5929\u5BA4" tabindex="-1"><a class="header-anchor" href="#\u804A\u5929\u5BA4" aria-hidden="true">#</a> \u804A\u5929\u5BA4</h3><p><img src="https://tech.nikolazhang.top/2020-06-10-13-33-29.png" alt="2020-06-10-13-33-29" loading="lazy"></p><p>\u4E3B\u8981\u529F\u80FD: \u767B\u5F55\u6CE8\u518C, \u804A\u5929, \u804A\u5929\u5BA4\u5217\u8868, \u804A\u5929\u8BB0\u5F55</p><ol><li>\u4F7F\u7528es, \u4F5C\u4E3A\u6570\u636E\u5E93, \u5305\u62EC\u5176\u4ED6\u6570\u636E\u7684\u5B58\u50A8\u4E5F\u90FD\u4F7F\u7528es. \u4E3B\u8981\u662F\u5B66\u4E60\u65B0\u7684\u6280\u672F, \u53E6\u5916\u65E5\u540E\u505A\u804A\u5929\u8BB0\u5F55\u67E5\u8BE2\u4F1A\u66F4\u52A0\u4F18\u79C0.</li><li>\u540E\u7AEFspring websocket , \u4E3B\u8981\u662F\u57FA\u4E8ESTOMP. \u524D\u7AEF\u4F7F\u7528SockJS+STOMP.</li><li>\u4F7F\u7528jwt\u4F5C\u4E3A\u65E0\u72B6\u6001\u8BA4\u8BC1</li></ol><h3 id="live2d" tabindex="-1"><a class="header-anchor" href="#live2d" aria-hidden="true">#</a> live2d</h3><p>\u4F7F\u7528\u9AD8\u914D\u7684live2d, \u5177\u6709tag\u529F\u80FD, \u66F4\u52A0\u53EF\u63A7.</p><h3 id="\u4E8C\u7EF4\u7801\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u7EF4\u7801\u529F\u80FD" aria-hidden="true">#</a> \u4E8C\u7EF4\u7801\u529F\u80FD</h3><p>\u4E3A\u5F53\u524D\u9875\u9762\u751F\u6210\u4E8C\u7EF4\u7801, \u8FD9\u4E2A\u529F\u80FD\u5728live2d\u4E0A\u589E\u52A0\u7684.</p><p>\u751F\u6210\u4E00\u4E2A\u9875\u9762\u4E0A\u663E\u793A\u7684\u4E8C\u7EF4\u7801, \u540C\u65F6\u4E0B\u8F7D\u4E00\u4E2A\u542B\u6709\u4E8C\u7EF4\u7801\u7684\u56FE\u7247. \u4EE5\u4E0B\u4E3A\u6548\u679C\u56FE: <img src="https://tech.nikolazhang.top/2020-06-11-19-33-01.png" alt="2020-06-11-19-33-01" loading="lazy"><img src="https://tech.nikolazhang.top/2020-06-11-19-33-24.png" alt="2020-06-11-19-33-24" loading="lazy"></p><h2 id="\u5173\u4E8Eejs\u4E0Emd\u6E32\u67D3\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u5173\u4E8Eejs\u4E0Emd\u6E32\u67D3\u95EE\u9898" aria-hidden="true">#</a> \u5173\u4E8Eejs\u4E0Emd\u6E32\u67D3\u95EE\u9898</h2><p>\u76EE\u524D\u535A\u5BA2\u4F7F\u7528\u7684ejs\u65E0\u6CD5\u4F7F\u7528renderFile\u65B9\u5F0F\u8FDB\u884C\u6E32\u67D3, \u56E0\u6B64\u9875\u9762\u4E0A\u4E00\u4E9B\u52A8\u6001\u5143\u7D20\u90FD\u662F\u901A\u8FC7\u5B57\u7B26\u4E32\u62FC\u63A5\u8FDB\u884C\u6E32\u67D3\u7684. <img src="https://tech.nikolazhang.top/2020-06-10-13-37-49.png" alt="2020-06-10-13-37-49" loading="lazy"></p><p>\u5982\u679C\u4F60\u5199\u597D\u4E86md\u6587\u4EF6, \u5982\u679C\u9700\u8981\u6307\u5B9A\u6E32\u67D3\u7684ejs\u5219\u9700\u8981\u901A\u8FC7layout\u5C5E\u6027\u6307\u5B9A\u5BF9\u5E94\u7684ejs\u6587\u4EF6\u540D <img src="https://tech.nikolazhang.top/2020-06-10-13-39-35.png" alt="2020-06-10-13-39-35" loading="lazy"></p><p>\u4E4B\u540E\u5728layout\u76EE\u5F55\u4E0B\u521B\u5EFA\u8BE5\u6587\u4EF6,\u5373\u53EF <img src="https://tech.nikolazhang.top/2020-06-10-13-41-43.png" alt="2020-06-10-13-41-43" loading="lazy"></p><h2 id="\u8DE8\u57DF\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u8DE8\u57DF\u914D\u7F6E" aria-hidden="true">#</a> \u8DE8\u57DF\u914D\u7F6E</h2><p>\u524D\u540E\u7AEF\u5206\u79BB\u5FC5\u7136\u8981\u8003\u8651\u8DE8\u57DF\u95EE\u9898</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CorsConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">CorsConfiguration</span> <span class="token function">buildConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">CorsConfiguration</span> corsConfiguration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CorsConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedOrigin</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:4000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedOrigin</span><span class="token punctuation">(</span><span class="token string">&quot;https://blog.nikolazhang.top&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedHeader</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedMethod</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        corsConfiguration<span class="token punctuation">.</span><span class="token function">setAllowCredentials</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        corsConfiguration<span class="token punctuation">.</span><span class="token function">addExposedHeader</span><span class="token punctuation">(</span><span class="token class-name">ConstantProperty</span><span class="token punctuation">.</span><span class="token constant">ACCESS_TOKEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> corsConfiguration<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">CorsFilter</span> <span class="token function">corsFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">UrlBasedCorsConfigurationSource</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBasedCorsConfigurationSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        source<span class="token punctuation">.</span><span class="token function">registerCorsConfiguration</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">,</span> <span class="token function">buildConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CorsFilter</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCorsMappings</span><span class="token punctuation">(</span><span class="token class-name">CorsRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">addMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">allowedOrigins</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">allowCredentials</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">allowedMethods</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;DELETE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PUT&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">maxAge</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="end" tabindex="-1"><a class="header-anchor" href="#end" aria-hidden="true">#</a> end</h2><p>\u5173\u4E8E\u98DE\u673A\u5927\u6218</p><p>live2d\u6709\u4E00\u4E2A\u98DE\u673A\u5927\u6218\u7684\u5C0F\u6E38\u620F, \u53D1\u5C04\u5B50\u5F39, \u6D88\u9664\u9875\u9762\u5143\u7D20, \u8BF4\u4E00\u4E0B\u6309\u952E. wasd\u8C03\u6574\u65B9\u5411 \u957F\u6309w\u524D\u8FDB \u7A7A\u683C\u53D1\u5C04\u5B50\u5F39</p>`,22),p=[o];function i(c,l){return s(),a("div",null,p)}const r=n(e,[["render",i],["__file","\u642D\u5EFA\u535A\u5BA2\u8FDB\u9636.html.vue"]]);export{r as default};
