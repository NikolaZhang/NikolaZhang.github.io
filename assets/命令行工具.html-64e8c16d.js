import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as i,c as r,a as s,b as e,d as a,e as t}from"./app-0f1114d3.js";const p={},l={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html",target:"_blank",rel:"noopener noreferrer"},d=s("h2",{id:"命令行工具-command-line-tools",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#命令行工具-command-line-tools","aria-hidden":"true"},"#"),e(" 命令行工具(Command line tools)")],-1),h=s("p",null,[s("em",null,[s("strong",null,"0.10 新版功能")])],-1),u=s("p",null,[e("Scrapy是通过 "),s("code",null,"scrapy"),e(" 命令行工具进行控制的。 这里我们称之为 “Scrapy tool” 以用来和子命令进行区分。 对于子命令，我们称为 “command” 或者 “Scrapy commands”。")],-1),m={id:"使用-scrapy-工具¶",tabindex:"-1"},_=s("a",{class:"header-anchor",href:"#使用-scrapy-工具¶","aria-hidden":"true"},"#",-1),b=s("code",null,"scrapy",-1),v={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#id1",target:"_blank",rel:"noopener noreferrer"},k=t(`<p>您可以以无参数的方式启动Scrapy工具。该命令将会给出一些使用帮助以及可用的命令:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Scrapy X.Y - no active project

Usage:
  scrapy <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>args<span class="token punctuation">]</span>

Available commands:
  crawl         Run a spider
  fetch         Fetch a URL using the Scrapy downloader
<span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),g={id:"创建项目¶",tabindex:"-1"},y=s("a",{class:"header-anchor",href:"#创建项目¶","aria-hidden":"true"},"#",-1),f={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#id2",target:"_blank",rel:"noopener noreferrer"},x=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 该命令将会在 myproject 目录中创建一个Scrapy项目。</span>
scrapy startproject myproject
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),C={id:"控制项目¶",tabindex:"-1"},w=s("a",{class:"header-anchor",href:"#控制项目¶","aria-hidden":"true"},"#",-1),N={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#id3",target:"_blank",rel:"noopener noreferrer"},z=t(`<p>您可以在您的项目中使用 <code>scrapy</code> 工具来对其进行控制和管理。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 创建一个新的spider:</span>
scrapy genspider mydomain mydomain.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,2),S=s("code",null,"[crawl](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-crawl)",-1),q={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#topics-commands-ref",target:"_blank",rel:"noopener noreferrer"},E=s("p",null,[e("另外要注意，有些命令在项目里运行时的效果有些许区别。 以fetch命令为例，如果被爬取的url与某个特定spider相关联， 则该命令将会使用spider的动作(spider-overridden behaviours)。 (比如spider指定的 "),s("code",null,"user_agent"),e(")。 该表现是有意而为之的。一般来说， "),s("code",null,"fetch"),e(" 命令就是用来测试检查spider是如何下载页面。")],-1),L={id:"可用的工具命令-tool-commands-¶",tabindex:"-1"},A=s("a",{class:"header-anchor",href:"#可用的工具命令-tool-commands-¶","aria-hidden":"true"},"#",-1),D={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#tool-commands",target:"_blank",rel:"noopener noreferrer"},$=t("<p>Scrapy提供了<strong>两种类型</strong>的命令。一种必须在Scrapy项目中运行(针对项目(Project-specific)的命令)，另外一种则不需要(全局命令)。全局命令在项目中运行时的表现可能会与在非项目中运行有些许差别(因为可能会使用项目的设定)。</p><p>全局命令:</p><ul><li><code>[startproject](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-startproject)</code></li><li><code>[settings](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-settings)</code></li><li><code>[runspider](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-runspider)</code></li><li><code>[shell](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-shell)</code></li><li><code>[fetch](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-fetch)</code></li><li><code>[view](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-view)</code></li><li><code>[version](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-version)</code></li></ul><p>项目(Project-only)命令:</p><ul><li><code>[crawl](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-crawl)</code></li><li><code>[check](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-check)</code></li><li><code>[list](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-list)</code></li><li><code>[edit](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-edit)</code></li><li><code>[parse](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-parse)</code></li><li><code>[genspider](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-genspider)</code></li><li><code>[deploy](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-deploy)</code></li><li><code>[bench](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:command-bench)</code></li></ul>",5),j={id:"_1-startproject¶",tabindex:"-1"},M=s("a",{class:"header-anchor",href:"#_1-startproject¶","aria-hidden":"true"},"#",-1),U={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#startproject",target:"_blank",rel:"noopener noreferrer"},R=s("p",null,[e("在 "),s("code",null,"project_name"),e(" 文件夹下创建一个名为 "),s("code",null,"project_name"),e(" 的Scrapy项目。")],-1),O=s("blockquote",null,[s("p",null,[s("code",null,"scrapy startproject <project_name>")])],-1),T=s("p",null,"例子:",-1),I=s("p",null,[s("code",null,"scrapy startproject myproject")],-1),P={id:"_2-genspider¶",tabindex:"-1"},F=s("a",{class:"header-anchor",href:"#_2-genspider¶","aria-hidden":"true"},"#",-1),V={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#genspider",target:"_blank",rel:"noopener noreferrer"},B=t(`<p>在当前项目中创建spider。</p><blockquote><p><code>scrapy genspider [-t template] &lt;name&gt; &lt;domain&gt;</code></p></blockquote><p>这仅仅是创建spider的一种快捷方法。该方法可以使用提前定义好的模板来生成spider。您也可以自己创建spider的源码文件。</p><p>例子:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>$ scrapy genspider <span class="token operator">-</span>l
Available templates<span class="token punctuation">:</span>
basic
crawl
csvfeed
xmlfeed

$ scrapy genspider <span class="token operator">-</span>d basic
<span class="token keyword">import</span> scrapy
<span class="token keyword">class</span> $classname<span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
	name <span class="token operator">=</span> <span class="token string">&quot;$name&quot;</span>
	allowed_domains <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;$domain&quot;</span><span class="token punctuation">]</span>
	start_urls <span class="token operator">=</span> <span class="token punctuation">(</span>
	<span class="token string">&#39;[http://www.$domain/](http://www.%24domain/)&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
	<span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>
	    <span class="token keyword">pass</span>

$ scrapy genspider <span class="token operator">-</span>t basic example <span class="token punctuation">[</span>example<span class="token punctuation">.</span>com<span class="token punctuation">]</span><span class="token punctuation">(</span>http<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token punctuation">)</span>
Created spider <span class="token string">&#39;example&#39;</span> using template <span class="token string">&#39;basic&#39;</span> <span class="token keyword">in</span> module<span class="token punctuation">:</span>
mybot<span class="token punctuation">.</span>spiders<span class="token punctuation">.</span>exampl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),G={id:"_3-crawl¶",tabindex:"-1"},W=s("a",{class:"header-anchor",href:"#_3-crawl¶","aria-hidden":"true"},"#",-1),Y={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#crawl",target:"_blank",rel:"noopener noreferrer"},H=t(`<p>使用spider进行爬取。</p><blockquote><p><code>scrapy crawl &lt;spider&gt;</code></p></blockquote><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy crawl myspider
<span class="token punctuation">[</span> <span class="token punctuation">..</span>. myspider starts crawling <span class="token punctuation">..</span>. <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,4),J={id:"_4-check¶",tabindex:"-1"},X=s("a",{class:"header-anchor",href:"#_4-check¶","aria-hidden":"true"},"#",-1),K={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#check",target:"_blank",rel:"noopener noreferrer"},Q=t(`<p>运行contract检查。</p><blockquote><p><code>scrapy check [-l] &lt;spider&gt;</code></p></blockquote><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy check <span class="token parameter variable">-l</span>
first_spider
  * parse
  * parse_item
second_spider
  * parse
  * parse_item

$ scrapy check
<span class="token punctuation">[</span>FAILED<span class="token punctuation">]</span> first_spider:parse_item
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">&#39;RetailPricex&#39;</span> field is missing

<span class="token punctuation">[</span>FAILED<span class="token punctuation">]</span> first_spider:parse
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Returned <span class="token number">92</span> requests, expected <span class="token number">0</span><span class="token punctuation">..</span><span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),Z={id:"_5-list¶",tabindex:"-1"},ss=s("a",{class:"header-anchor",href:"#_5-list¶","aria-hidden":"true"},"#",-1),es={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#list",target:"_blank",rel:"noopener noreferrer"},ns=t(`<p>列出当前项目中所有可用的spider。每行输出一个spider。</p><blockquote><p><code>scrapy list</code></p></blockquote><p>使用例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy list
spider1
spider2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),as={id:"_6-edit¶",tabindex:"-1"},ts=s("a",{class:"header-anchor",href:"#_6-edit¶","aria-hidden":"true"},"#",-1),cs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#edit",target:"_blank",rel:"noopener noreferrer"},os=s("p",null,[e("使用 "),s("code",null,"[EDITOR](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/settings.html#std:setting-EDITOR)"),e(" 中设定的编辑器编辑给定的spider")],-1),is=s("blockquote",null,[s("p",null,[s("code",null,"scrapy edit <spider>")])],-1),rs=s("p",null,"该命令仅仅是提供一个快捷方式。开发者可以自由选择其他工具或者IDE来编写调试spider。",-1),ps=s("p",null,"例子:",-1),ls=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,`$ scrapy edit spider1
`)]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),ds={id:"_7-fetch¶",tabindex:"-1"},hs=s("a",{class:"header-anchor",href:"#_7-fetch¶","aria-hidden":"true"},"#",-1),us={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#fetch",target:"_blank",rel:"noopener noreferrer"},ms=t(`<p>使用Scrapy下载器(downloader)下载给定的URL，并将获取到的内容送到标准输出。</p><blockquote><p><code>scrapy fetch &lt;url&gt;</code></p></blockquote><p>该命令以spider下载页面的方式获取页面。例如，如果spider有 <code>USER_AGENT</code> 属性修改了 User Agent，该命令将会使用该属性。</p><p>因此，您可以使用该命令来查看spider如何获取某个特定页面。</p><p>该命令如果非项目中运行则会使用默认Scrapy downloader设定。</p><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy fetch <span class="token parameter variable">--nolog</span> http://www.example.com/some/page.html
<span class="token punctuation">[</span> <span class="token punctuation">..</span>. html content here <span class="token punctuation">..</span>. <span class="token punctuation">]</span>

$ scrapy fetch <span class="token parameter variable">--nolog</span> <span class="token parameter variable">--headers</span> http://www.example.com/
<span class="token punctuation">{</span><span class="token string">&#39;Accept-Ranges&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;bytes&#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Age&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;1263   &#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Connection&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;close     &#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Content-Length&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;596&#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Content-Type&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;text/html; charset=UTF-8&#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Date&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;Wed, 18 Aug 2010 23:59:46 GMT&#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Etag&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;&quot;573c1-254-48c9c87349680&quot;&#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Last-Modified&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;Fri, 30 Jul 2010 15:30:18 GMT&#39;</span><span class="token punctuation">]</span>,
 <span class="token string">&#39;Server&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&#39;Apache/2.2.3 (CentOS)&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),_s={id:"_8-view¶",tabindex:"-1"},bs=s("a",{class:"header-anchor",href:"#_8-view¶","aria-hidden":"true"},"#",-1),vs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#view",target:"_blank",rel:"noopener noreferrer"},ks=t(`<p>在浏览器中打开给定的URL，并以Scrapy spider获取到的形式展现。 有些时候spider获取到的页面和普通用户看到的并不相同。 因此该命令可以用来检查spider所获取到的页面，并确认这是您所期望的。</p><blockquote><p><code>scrapy view &lt;url&gt;</code></p></blockquote><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy view http://www.example.com/some/page.html
<span class="token punctuation">[</span> <span class="token punctuation">..</span>. browser starts <span class="token punctuation">..</span>. <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,4),gs={id:"_9-shell¶",tabindex:"-1"},ys=s("a",{class:"header-anchor",href:"#_9-shell¶","aria-hidden":"true"},"#",-1),fs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#shell",target:"_blank",rel:"noopener noreferrer"},xs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/shell.html#topics-shell",target:"_blank",rel:"noopener noreferrer"},Cs=t(`<blockquote><p><code>scrapy shell [url]</code></p></blockquote><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy shell http://www.example.com/some/page.html
<span class="token punctuation">[</span> <span class="token punctuation">..</span>. scrapy shell starts <span class="token punctuation">..</span>. <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,3),ws={id:"_10-parse¶",tabindex:"-1"},Ns=s("a",{class:"header-anchor",href:"#_10-parse¶","aria-hidden":"true"},"#",-1),zs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#parse",target:"_blank",rel:"noopener noreferrer"},Ss=t(`<p>获取给定的URL并使用相应的spider分析处理。如果您提供 <code>--callback</code> 选项，则使用spider的该方法处理，否则使用 <code>parse</code> 。</p><blockquote><p><code>scrapy parse &lt;url&gt; [options]</code></p></blockquote><p>支持的选项:</p><ul><li><code>-spider=SPIDER</code>: 跳过自动检测spider并强制使用特定的spider</li><li><code>-a NAME=VALUE</code>: 设置spider的参数(可能被重复)</li><li><code>-callback</code> or <code>c</code>: spider中用于解析返回(response)的回调函数</li><li><code>-pipelines</code>: 在pipeline中处理item</li><li><code>-rules</code> or <code>r</code>: 使用 <code>[CrawlSpider](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/spiders.html#scrapy.contrib.spiders.CrawlSpider)</code> 规则来发现用来解析返回(response)的回调函数</li><li><code>-noitems</code>: 不显示爬取到的item</li><li><code>-nolinks</code>: 不显示提取到的链接</li><li><code>-nocolour</code>: 避免使用pygments对输出着色</li><li><code>-depth</code> or <code>d</code>: 指定跟进链接请求的层次数(默认: 1)</li><li><code>-verbose</code> or <code>v</code>: 显示每个请求的详细信息</li></ul><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy parse http://www.example.com/ <span class="token parameter variable">-c</span> parse_item
<span class="token punctuation">[</span> <span class="token punctuation">..</span>. scrapy log lines crawling example.com spider <span class="token punctuation">..</span>. <span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> STATUS DEPTH LEVEL <span class="token number">1</span> <span class="token operator">&lt;&lt;&lt;</span>
<span class="token comment"># Scraped Items  ------------------------------------------------------------</span>
<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&#39;name&#39;</span><span class="token builtin class-name">:</span> u<span class="token string">&#39;Example item&#39;</span>,
 <span class="token string">&#39;category&#39;</span><span class="token builtin class-name">:</span> u<span class="token string">&#39;Furniture&#39;</span>,
 <span class="token string">&#39;length&#39;</span><span class="token builtin class-name">:</span> u<span class="token string">&#39;12 cm&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment"># Requests  -----------------------------------------------------------------</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),qs={id:"_11-settings¶",tabindex:"-1"},Es=s("a",{class:"header-anchor",href:"#_11-settings¶","aria-hidden":"true"},"#",-1),Ls={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#settings",target:"_blank",rel:"noopener noreferrer"},As=t(`<p>获取Scrapy的设定, 在项目中运行时，该命令将会输出项目的设定值，否则输出Scrapy默认设定。</p><blockquote><p><code>scrapy settings [options]</code></p></blockquote><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy settings <span class="token parameter variable">--get</span> BOT_NAME
scrapybot
$ scrapy settings <span class="token parameter variable">--get</span> DOWNLOAD_DELAY
<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),Ds={id:"_12-runspider¶",tabindex:"-1"},$s=s("a",{class:"header-anchor",href:"#_12-runspider¶","aria-hidden":"true"},"#",-1),js={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#runspider",target:"_blank",rel:"noopener noreferrer"},Ms=t(`<p>在未创建项目的情况下，运行一个编写在Python文件中的spider。</p><blockquote><p><code>scrapy runspider &lt;spider_file.py&gt;</code></p></blockquote><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ scrapy runspider myspider.py
<span class="token punctuation">[</span> <span class="token punctuation">..</span>. spider starts crawling <span class="token punctuation">..</span>. <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,4),Us={id:"_13-version¶",tabindex:"-1"},Rs=s("a",{class:"header-anchor",href:"#_13-version¶","aria-hidden":"true"},"#",-1),Os={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#version",target:"_blank",rel:"noopener noreferrer"},Ts=s("p",null,[e("输出Scrapy版本。配合 "),s("code",null,"-v"),e(" 运行时，该命令同时输出Python, Twisted以及平台的信息，方便bug提交。")],-1),Is=s("blockquote",null,[s("p",null,[s("code",null,"scrapy version [-v]")])],-1),Ps={id:"_14-deploy¶",tabindex:"-1"},Fs=s("a",{class:"header-anchor",href:"#_14-deploy¶","aria-hidden":"true"},"#",-1),Vs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#deploy",target:"_blank",rel:"noopener noreferrer"},Bs={href:"http://scrapyd.readthedocs.org/en/latest/deploy.html",target:"_blank",rel:"noopener noreferrer"},Gs=s("blockquote",null,[s("p",null,[s("code",null,"scrapy deploy [ <target:project> | -l <target> | -L ]")])],-1),Ws={id:"_15-bench¶",tabindex:"-1"},Ys=s("a",{class:"header-anchor",href:"#_15-bench¶","aria-hidden":"true"},"#",-1),Hs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#bench",target:"_blank",rel:"noopener noreferrer"},Js={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/benchmarking.html#benchmarking",target:"_blank",rel:"noopener noreferrer"},Xs=s("blockquote",null,[s("p",null,[s("code",null,"scrapy bench")])],-1),Ks={id:"自定义项目命令¶",tabindex:"-1"},Qs=s("a",{class:"header-anchor",href:"#自定义项目命令¶","aria-hidden":"true"},"#",-1),Zs={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#id4",target:"_blank",rel:"noopener noreferrer"},se=s("code",null,"[COMMANDS_MODULE](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#std:setting-COMMANDS_MODULE)",-1),ee={href:"https://github.com/scrapy/scrapy/blob/master/scrapy/commands",target:"_blank",rel:"noopener noreferrer"},ne=s("code",null,"scrapy/commands",-1),ae={id:"commands-module¶",tabindex:"-1"},te=s("a",{class:"header-anchor",href:"#commands-module¶","aria-hidden":"true"},"#",-1),ce={href:"https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html#commands-module",target:"_blank",rel:"noopener noreferrer"},oe=t(`<p>用于查找添加自定义Scrapy命令的模块。</p><p><code>Default: &#39;&#39; (empty string)</code></p><p>例子:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>COMMANDS_MODULE <span class="token operator">=</span> <span class="token string">&#39;mybot.commands&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4);function ie(re,pe){const n=o("ExternalLinkIcon");return i(),r("div",null,[s("p",null,[s("a",l,[e("https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/commands.html"),a(n)])]),d,h,u,s("h2",m,[_,e(" 使用 "),b,e(" 工具"),s("a",v,[e("¶"),a(n)])]),k,s("h2",g,[y,e(" 创建项目"),s("a",f,[e("¶"),a(n)])]),x,s("h2",C,[w,e(" 控制项目"),s("a",N,[e("¶"),a(n)])]),z,s("p",null,[e("有些Scrapy命令(比如 "),S,e(")要求必须在Scrapy项目中运行。 您可以通过下边的 "),s("a",q,[e("commands reference"),a(n)]),e(" 来了解哪些命令需要在项目中运行，哪些不用。")]),E,s("h2",L,[A,e(" 可用的工具命令(tool commands)"),s("a",D,[e("¶"),a(n)])]),$,s("h3",j,[M,e(" 1. startproject"),s("a",U,[e("¶"),a(n)])]),R,O,T,I,s("h3",P,[F,e(" 2. genspider"),s("a",V,[e("¶"),a(n)])]),B,s("h3",G,[W,e(" 3. crawl"),s("a",Y,[e("¶"),a(n)])]),H,s("h3",J,[X,e(" 4. check"),s("a",K,[e("¶"),a(n)])]),Q,s("h3",Z,[ss,e(" 5. list"),s("a",es,[e("¶"),a(n)])]),ns,s("h3",as,[ts,e(" 6. edit"),s("a",cs,[e("¶"),a(n)])]),os,is,rs,ps,ls,s("h3",ds,[hs,e(" 7. fetch"),s("a",us,[e("¶"),a(n)])]),ms,s("h3",_s,[bs,e(" 8. view"),s("a",vs,[e("¶"),a(n)])]),ks,s("h3",gs,[ys,e(" 9. shell"),s("a",fs,[e("¶"),a(n)])]),s("p",null,[e("以给定的URL(如果给出)或者空(没有给出URL)启动Scrapy shell。 查看 "),s("a",xs,[e("Scrapy终端(Scrapy shell)"),a(n)]),e(" 获取更多信息。")]),Cs,s("h3",ws,[Ns,e(" 10. parse"),s("a",zs,[e("¶"),a(n)])]),Ss,s("h3",qs,[Es,e(" 11. settings"),s("a",Ls,[e("¶"),a(n)])]),As,s("h3",Ds,[$s,e(" 12. runspider"),s("a",js,[e("¶"),a(n)])]),Ms,s("h3",Us,[Rs,e(" 13. version"),s("a",Os,[e("¶"),a(n)])]),Ts,Is,s("h3",Ps,[Fs,e(" 14. deploy"),s("a",Vs,[e("¶"),a(n)])]),s("p",null,[e("将项目部署到Scrapyd服务。查看 "),s("a",Bs,[e("部署您的项目"),a(n)]),e(" 。")]),Gs,s("h3",Ws,[Ys,e(" 15. bench"),s("a",Hs,[e("¶"),a(n)])]),s("p",null,[e("运行benchmark测试。 "),s("a",Js,[e("Benchmarking"),a(n)]),e(" 。")]),Xs,s("h2",Ks,[Qs,e(" 自定义项目命令"),s("a",Zs,[e("¶"),a(n)])]),s("p",null,[e("您也可以通过 "),se,e(" 来添加您自己的项目命令。您可以以 "),s("a",ee,[ne,a(n)]),e(" 中Scrapy commands为例来了解如何实现您的命令。")]),s("h3",ae,[te,e(" COMMANDS_MODULE"),s("a",ce,[e("¶"),a(n)])]),oe])}const he=c(p,[["render",ie],["__file","命令行工具.html.vue"]]);export{he as default};
