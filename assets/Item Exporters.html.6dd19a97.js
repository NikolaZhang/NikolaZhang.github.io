import{_ as t}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as o,a as n,b as s,d as r,e,r as i}from"./app.4001f435.js";const l={},c=e(`<blockquote><p>Scrapy\u63D0\u4F9B\u4E86Item Exporters \u6765\u521B\u5EFA\u4E0D\u540C\u7684\u8F93\u51FA\u683C\u5F0F\uFF0C\u5982XML\uFF0CCSV\u6216JSON\u3002</p></blockquote><h2 id="\u4F7F\u7528-item-exporter" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-item-exporter" aria-hidden="true">#</a> \u4F7F\u7528 Item Exporter</h2><p>\u4E3A\u4E86\u4F7F\u7528 Item Exporter\uFF0C\u4F60\u5FC5\u987B\u5BF9 Item Exporter \u53CA\u5176\u53C2\u6570 (args) \u5B9E\u4F8B\u5316\u3002\u6BCF\u4E2A Item Exporter \u9700\u8981\u4E0D\u540C\u7684\u53C2\u6570\uFF0C\u8BE6\u7EC6\u8BF7\u67E5\u770B Item Exporters \u53C2\u8003\u8D44\u6599 \u3002\u5728\u5B9E\u4F8B\u5316\u4E86 exporter \u4E4B\u540E\uFF0C\u4F60\u5FC5\u987B\uFF1A</p><ol><li>\u8C03\u7528\u65B9\u6CD5\xA0<strong><code>[start_exporting()](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/exporters.html#scrapy.contrib.exporter.BaseItemExporter.start_exporting)</code></strong>\xA0\u4EE5\u6807\u8BC6 exporting \u8FC7\u7A0B\u7684\u5F00\u59CB\u3002</li><li>\u5BF9\u8981\u5BFC\u51FA\u7684\u6BCF\u4E2A\u9879\u76EE\u8C03\u7528\xA0<strong><code>[export_item()](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/exporters.html#scrapy.contrib.exporter.BaseItemExporter.export_item)</code></strong>\xA0\u65B9\u6CD5\u3002</li><li>\u6700\u540E\u8C03\u7528\xA0<strong><code>[finish_exporting()](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/exporters.html#scrapy.contrib.exporter.BaseItemExporter.finish_exporting)</code></strong>\xA0\u8868\u793A exporting \u8FC7\u7A0B\u7684\u7ED3\u675F</li></ol><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> scrapy <span class="token keyword">import</span> signals
<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>exporter <span class="token keyword">import</span> XmlItemExporter

<span class="token keyword">class</span> <span class="token class-name">XmlExportPipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>files <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

     <span class="token decorator annotation punctuation">@classmethod</span>
     <span class="token keyword">def</span> <span class="token function">from_crawler</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> crawler<span class="token punctuation">)</span><span class="token punctuation">:</span>
         pipeline <span class="token operator">=</span> cls<span class="token punctuation">(</span><span class="token punctuation">)</span>
         crawler<span class="token punctuation">.</span>signals<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>pipeline<span class="token punctuation">.</span>spider_opened<span class="token punctuation">,</span> signals<span class="token punctuation">.</span>spider_opened<span class="token punctuation">)</span>
         crawler<span class="token punctuation">.</span>signals<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>pipeline<span class="token punctuation">.</span>spider_closed<span class="token punctuation">,</span> signals<span class="token punctuation">.</span>spider_closed<span class="token punctuation">)</span>
         <span class="token keyword">return</span> pipeline

    <span class="token keyword">def</span> <span class="token function">spider_opened</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&#39;%s_products.xml&#39;</span> <span class="token operator">%</span> spider<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">&#39;w+b&#39;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>files<span class="token punctuation">[</span>spider<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">file</span>
        self<span class="token punctuation">.</span>exporter <span class="token operator">=</span> XmlItemExporter<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>start_exporting<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">spider_closed</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>finish_exporting<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token builtin">file</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>files<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>spider<span class="token punctuation">)</span>
        <span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">process_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>export_item<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token keyword">return</span> item
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u8BE5\u5B57\u6BB5\u503C\u5C06\u4E0D\u53D8\u7684\u4F20\u9012\u5230\u5E8F\u5217\u5316\u5E93\uFF0C\u5982\u4F55\u5BF9\u5176\u8FDB\u884C\u5E8F\u5217\u5316\u7684\u51B3\u5B9A\u88AB\u59D4\u6258\u7ED9\u6BCF\u4E00\u4E2A\u7279\u5B9A\u7684\u5E8F\u5217\u5316\u5E93\u3002</p><p>\u6709\u4E24\u79CD\u65B9\u6CD5\u53EF\u4EE5\u81EA\u5B9A\u4E49\u4E00\u4E2A\u5B57\u6BB5\u5982\u4F55\u88AB\u5E8F\u5217\u5316\uFF0C\u8BF7\u770B\u4E0B\u6587</p><h3 id="_1-\u5728-field-\u7C7B\u4E2D\u58F0\u660E\u4E00\u4E2A-serializer" tabindex="-1"><a class="header-anchor" href="#_1-\u5728-field-\u7C7B\u4E2D\u58F0\u660E\u4E00\u4E2A-serializer" aria-hidden="true">#</a> 1. \u5728 field \u7C7B\u4E2D\u58F0\u660E\u4E00\u4E2A serializer</h3><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> scrapy

<span class="token keyword">def</span> <span class="token function">serialize_price</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&#39;$ %s&#39;</span> <span class="token operator">%</span> <span class="token builtin">str</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Product</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span>
    price <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span>serializer<span class="token operator">=</span>serialize_price<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-\u8986\u76D6-overriding-serialize-field-\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-\u8986\u76D6-overriding-serialize-field-\u65B9\u6CD5" aria-hidden="true">#</a> 2. \u8986\u76D6(overriding) serialize_field() \u65B9\u6CD5</h3><p>\u4F60\u53EF\u4EE5\u8986\u76D6 serialize_field() \u65B9\u6CD5\u6765\u81EA\u5B9A\u4E49\u5982\u4F55\u8F93\u51FA\u4F60\u7684\u6570\u636E\u3002</p><p>\u5728\u4F60\u7684\u81EA\u5B9A\u4E49\u4EE3\u7801\u540E\u786E\u4FDD\u4F60\u8C03\u7528\u7236\u7C7B\u7684 serialize_field() \u65B9\u6CD5\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>exporter <span class="token keyword">import</span> XmlItemExporter

<span class="token keyword">class</span> <span class="token class-name">ProductXmlExporter</span><span class="token punctuation">(</span>XmlItemExporter<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">serialize_field</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> field<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> field <span class="token operator">==</span> <span class="token string">&#39;price&#39;</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&#39;$ %s&#39;</span> <span class="token operator">%</span> <span class="token builtin">str</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span>Product<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>serialize_field<span class="token punctuation">(</span>field<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="item-exporters-\u53C2\u8003\u8D44\u6599" tabindex="-1"><a class="header-anchor" href="#item-exporters-\u53C2\u8003\u8D44\u6599" aria-hidden="true">#</a> Item Exporters \u53C2\u8003\u8D44\u6599</h2><h3 id="baseitemexporter" tabindex="-1"><a class="header-anchor" href="#baseitemexporter" aria-hidden="true">#</a> BaseItemExporter</h3><blockquote><p>class scrapy.contrib.exporter.BaseItemExporter(fields_to_export=None, export_empty_fields=False, encoding=&#39;utf-8&#39;)</p></blockquote><p>\u8FD9\u662F\u4E00\u4E2A\u5BF9\u6240\u6709 Item Exporters \u7684(\u62BD\u8C61)\u7236\u7C7B\u3002\u5B83\u5BF9\u6240\u6709(\u5177\u4F53) Item Exporters \u63D0\u4F9B\u57FA\u672C\u5C5E\u6027\uFF0C\u5982\u5B9A\u4E49export\u4EC0\u4E48fields, \u662F\u5426export\u7A7Afields, \u6216\u662F\u5426\u8FDB\u884C\u7F16\u7801\u3002</p><p>\u4F60\u53EF\u4EE5\u5728\u6784\u9020\u5668\u4E2D\u8BBE\u7F6E\u5B83\u4EEC\u4E0D\u540C\u7684\u5C5E\u6027\u503C: <code>fields_to_export</code> , <code>export_empty_fields</code>, <code>encoding</code>.</p><ul><li><p><strong><code>export_item</code>(<em>item</em>)</strong></p><p>\u8F93\u51FA\u7ED9\u5B9Aitem. \u6B64\u65B9\u6CD5\u5FC5\u987B\u5728\u5B50\u7C7B\u4E2D\u5B9E\u73B0.</p></li><li><p><code>serialize_field(field, name, value)</code></p><p>\u8FD4\u56DE\u7ED9\u5B9Afield\u7684\u5E8F\u5217\u5316\u503C. \u4F60\u53EF\u4EE5\u8986\u76D6\u6B64\u65B9\u6CD5\u6765\u63A7\u5236\u5E8F\u5217\u5316\u6216\u8F93\u51FA\u6307\u5B9A\u7684field.</p><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B, \u6B64\u65B9\u6CD5\u5BFB\u627E\u4E00\u4E2A serializer \u5728 item field \u4E2D\u58F0\u660E \u5E76\u8FD4\u56DE\u5B83\u7684\u503C. \u5982\u679C\u6CA1\u6709\u53D1\u73B0 serializer, \u5219\u503C\u4E0D\u4F1A\u6539\u53D8\uFF0C\u9664\u975E\u4F60\u4F7F\u7528 unicode \u503C\u5E76\u7F16\u7801\u5230 str\uFF0C \u7F16\u7801\u53EF\u4EE5\u5728 encoding \u5C5E\u6027\u4E2D\u58F0\u660E.</p><p>\u53C2\u6570:</p><ul><li><strong>field</strong>\xA0(<strong><code>[Field](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/items.html#scrapy.item.Field)</code></strong>\xA0object) \u2013 the field being serialized</li><li><strong>name</strong>\xA0(<em>str</em>) \u2013 the name of the field being serialized</li><li><strong>value</strong>\xA0\u2013 the value being serialized</li></ul></li><li><p><code>finish_exporting()</code></p><p>\u8868\u793Aexporting\u8FC7\u7A0B\u7684\u7ED3\u675F. \u4E00\u4E9Bexporters\u7528\u4E8E\u4EA7\u751F\u9700\u8981\u7684\u5C3E\u5143\u7D20 (\u4F8B\u5982 XmlItemExporter). \u5728\u5B8C\u6210exporting item\u540E\u5FC5\u987B\u8C03\u7528\u6B64\u65B9\u6CD5.</p></li><li><p><code>fields_to_export</code></p><p>\u5217\u51FAexport\u4EC0\u4E48fields\u503C, None\u8868\u793Aexport\u6240\u6709fields. \u9ED8\u8BA4\u503C\u4E3ANone.</p><p>\u4E00\u4E9B exporters (\u4F8B\u5982 CsvItemExporter) \u6309\u7167\u5B9A\u4E49\u5728\u5C5E\u6027\u4E2Dfields\u7684\u6B21\u5E8F\u4F9D\u6B21\u8F93\u51FA.</p></li><li><p><code>export_empty_fields</code></p><p>\u662F\u5426\u5728\u8F93\u51FA\u6570\u636E\u4E2D\u5305\u542B\u4E3A\u7A7A\u7684item fields. \u9ED8\u8BA4\u503C\u662F False. \u4E00\u4E9B exporters (\u4F8B\u5982 CsvItemExporter) \u4F1A\u5FFD\u7565\u6B64\u5C5E\u6027\u5E76\u8F93\u51FA\u6240\u6709fields.</p></li><li><p><code>encoding</code></p><p>Encoding \u5C5E\u6027\u5C06\u7528\u4E8E\u7F16\u7801 unicode \u503C. (\u4EC5\u7528\u4E8E\u5E8F\u5217\u5316\u5B57\u7B26\u4E32).\u5176\u4ED6\u503C\u7C7B\u578B\u5C06\u4E0D\u53D8\u7684\u4F20\u9012\u5230\u6307\u5B9A\u7684\u5E8F\u5217\u5316\u5E93.</p></li></ul><h3 id="xmlitemexporter" tabindex="-1"><a class="header-anchor" href="#xmlitemexporter" aria-hidden="true">#</a> XmlItemExporter</h3><blockquote><p>classscrapy.contrib.exporter.XmlItemExporter(file, item_element=&#39;item&#39;, root_element=&#39;items&#39;, **kwargs)</p></blockquote><p>\u4EE5XML\u683C\u5F0F exports Items \u5230\u6307\u5B9A\u7684\u6587\u4EF6\u7C7B.</p><ul><li><strong>file</strong>\xA0\u2013 \u6587\u4EF6\u7C7B.</li><li><strong>root_element</strong>\xA0(<em>str</em>) \u2013 XML \u6839\u5143\u7D20\u540D.</li><li><strong>item_element</strong>\xA0(<em>str</em>) \u2013 XML item \u7684\u5143\u7D20\u540D.</li></ul><p>\u6784\u9020\u5668\u989D\u5916\u7684\u5173\u952E\u5B57\u53C2\u6570\u5C06\u4F20\u7ED9\xA0<strong><code>[BaseItemExporter](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/exporters.html#scrapy.contrib.exporter.BaseItemExporter)</code></strong>\xA0\u6784\u9020\u5668.</p><p><strong>\u4E3E\u4F8B</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token operator">&lt;</span>?xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>items<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>Color TV<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>price<span class="token operator">&gt;</span><span class="token number">1200</span><span class="token operator">&lt;</span><span class="token operator">/</span>price<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>DVD player<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>price<span class="token operator">&gt;</span><span class="token number">200</span><span class="token operator">&lt;</span><span class="token operator">/</span>price<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>items<span class="token operator">&gt;</span>

Item<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Doe&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token string">&#39;23&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># \u9664\u4E86\u8986\u76D6 serialize_field() \u65B9\u6CD5, </span>
<span class="token comment"># \u591A\u4E2A\u503C\u7684 fields \u4F1A\u8F6C\u5316\u6BCF\u4E2A\u503C\u5230 &lt;value&gt; \u5143\u7D20. </span>
<span class="token comment"># \u88AB\u8F6C\u5316\u4E3A:</span>
<span class="token operator">&lt;</span>?xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>items<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>John<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>Doe<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>age<span class="token operator">&gt;</span><span class="token number">23</span><span class="token operator">&lt;</span><span class="token operator">/</span>age<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>items<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="csvitemexporter" tabindex="-1"><a class="header-anchor" href="#csvitemexporter" aria-hidden="true">#</a> CsvItemExporter</h3><blockquote><p>classscrapy.contrib.exporter.CsvItemExporter(file, include_headers_line=True, join_multivalued=&#39;, &#39;, **kwargs)</p></blockquote><p>\u8F93\u51FA csv \u6587\u4EF6\u683C\u5F0F. \u5982\u679C\u6DFB\u52A0 fields_to_export \u5C5E\u6027, \u5B83\u4F1A\u6309\u987A\u5E8F\u5B9A\u4E49CSV\u7684\u5217\u540D. export_empty_fields \u5C5E\u6027\u5728\u6B64\u6CA1\u6709\u4F5C\u7528.</p><ul><li><strong>file</strong>\xA0\u2013 \u6587\u4EF6\u7C7B.</li><li><strong>include_headers_line</strong>\xA0(<em>str</em>) \u2013 \u542F\u7528\u540E exporter \u4F1A\u8F93\u51FA\u7B2C\u4E00\u884C\u4E3A\u5217\u540D, \u5217\u540D\u4ECE\xA0<strong><code>[BaseItemExporter.fields_to_export](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/exporters.html#scrapy.contrib.exporter.BaseItemExporter.fields_to_export)</code></strong>\xA0\u6216\u7B2C\u4E00\u4E2A item fields \u83B7\u53D6.</li><li><strong>join_multivalued</strong>\xA0\u2013 char \u5C06\u7528\u4E8E\u8FDE\u63A5\u591A\u4E2A\u503C\u7684fields.</li></ul><p>\u6B64\u6784\u9020\u5668\u989D\u5916\u7684\u5173\u952E\u5B57\u53C2\u6570\u5C06\u4F20\u7ED9 BaseItemExporter \u6784\u9020\u5668 , \u5176\u4F59\u7684\u5C06\u4F20\u7ED9 csv.writer \u6784\u9020\u5668, \u4EE5\u6B64\u6765\u5B9A\u5236 exporter.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>product,price
Color TV,1200
DVD player,200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pickleitemexporter" tabindex="-1"><a class="header-anchor" href="#pickleitemexporter" aria-hidden="true">#</a> PickleItemExporter</h3><p>\u8F93\u51FA pickle \u6587\u4EF6\u683C\u5F0F.</p><blockquote><p>classscrapy.contrib.exporter.PickleItemExporter(file, protocol=0, **kwargs)</p></blockquote><ul><li><strong>file</strong>\xA0\u2013 \u6587\u4EF6\u7C7B.</li><li><strong>protocol</strong>\xA0(<em>int</em>) \u2013 pickle \u534F\u8BAE.</li></ul>`,36),u={href:"http://docs.python.org/library/pickle.html",target:"_blank",rel:"noopener noreferrer"},d=e(`<p>\u6B64\u6784\u9020\u5668\u989D\u5916\u7684\u5173\u952E\u5B57\u53C2\u6570\u5C06\u4F20\u7ED9\xA0<strong><code>[BaseItemExporter](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/exporters.html#scrapy.contrib.exporter.BaseItemExporter)</code></strong>\xA0\u6784\u9020\u5668.</p><p>Pickle \u4E0D\u662F\u53EF\u8BFB\u7684\u683C\u5F0F\uFF0C\u8FD9\u91CC\u4E0D\u63D0\u4F9B\u5B9E\u4F8B.</p><h3 id="pprintitemexporter" tabindex="-1"><a class="header-anchor" href="#pprintitemexporter" aria-hidden="true">#</a> PprintItemExporter</h3><p>\u8F93\u51FA\u6574\u9F50\u6253\u5370\u7684\u6587\u4EF6\u683C\u5F0F.</p><blockquote><p>class scrapy.contrib.exporter.PprintItemExporter(file, **kwargs)</p></blockquote><ul><li>file \u2013 \u6587\u4EF6\u7C7B.</li></ul><p>\u6B64\u6784\u9020\u5668\u989D\u5916\u7684\u5173\u952E\u5B57\u53C2\u6570\u5C06\u4F20\u7ED9\xA0<strong><code>[BaseItemExporter](https://scrapy-chs.readthedocs.io/zh_CN/latest/topics/exporters.html#scrapy.contrib.exporter.BaseItemExporter)</code></strong>\xA0\u6784\u9020\u5668.</p><p>\u4E00\u4E2A\u5178\u578B\u7684 exporter \u5B9E\u4F8B:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{&#39;name&#39;: &#39;Color TV&#39;, &#39;price&#39;: &#39;1200&#39;}
{&#39;name&#39;: &#39;DVD player&#39;, &#39;price&#39;: &#39;200&#39;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jsonitemexporter" tabindex="-1"><a class="header-anchor" href="#jsonitemexporter" aria-hidden="true">#</a> JsonItemExporter</h3><p>\u8F93\u51FA JSON \u6587\u4EF6\u683C\u5F0F, \u6240\u6709\u5BF9\u8C61\u5C06\u5199\u8FDB\u4E00\u4E2A\u5BF9\u8C61\u7684\u5217\u8868. \u6B64\u6784\u9020\u5668\u989D\u5916\u7684\u5173\u952E\u5B57\u53C2\u6570\u5C06\u4F20\u7ED9 BaseItemExporter \u6784\u9020\u5668, \u5176\u4F59\u7684\u5C06\u4F20\u7ED9 JSONEncoder \u6784\u9020\u5668, \u4EE5\u6B64\u6765\u5B9A\u5236 exporter.</p><blockquote><p>classscrapy.contrib.exporter.JsonItemExporter(file, **kwargs)</p></blockquote><ul><li>file \u2013 \u6587\u4EF6\u7C7B.</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[{&quot;name&quot;: &quot;Color TV&quot;, &quot;price&quot;: &quot;1200&quot;},
{&quot;name&quot;: &quot;DVD player&quot;, &quot;price&quot;: &quot;200&quot;}]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jsonlinesitemexporter" tabindex="-1"><a class="header-anchor" href="#jsonlinesitemexporter" aria-hidden="true">#</a> JsonLinesItemExporter</h3><p>\u8F93\u51FA JSON \u6587\u4EF6\u683C\u5F0F, \u6BCF\u884C\u5199\u4E00\u4E2A JSON-encoded \u9879. \u6B64\u6784\u9020\u5668\u989D\u5916\u7684\u5173\u952E\u5B57\u53C2\u6570\u5C06\u4F20\u7ED9 BaseItemExporter \u6784\u9020\u5668, \u5176\u4F59\u7684\u5C06\u4F20\u7ED9 JSONEncoder \u6784\u9020\u5668, \u4EE5\u6B64\u6765\u5B9A\u5236 exporter.</p><blockquote><p>class scrapy.contrib.exporter.JsonLinesItemExporter(file, **kwargs)</p></blockquote><ul><li>file \u2013 \u6587\u4EF6\u7C7B.</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{&quot;name&quot;: &quot;Color TV&quot;, &quot;price&quot;: &quot;1200&quot;}
{&quot;name&quot;: &quot;DVD player&quot;, &quot;price&quot;: &quot;200&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,19);function k(m,v){const a=i("ExternalLinkIcon");return p(),o("div",null,[c,n("p",null,[s("\u66F4\u591A\u4FE1\u606F\u8BF7\u770B\xA0"),n("a",u,[s("pickle module documentation"),r(a)]),s(".")]),d])}const g=t(l,[["render",k],["__file","Item Exporters.html.vue"]]);export{g as default};
